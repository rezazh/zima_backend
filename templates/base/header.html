<header class="py-2 bg-light">
    <div class="container d-flex justify-content-between align-items-center">
        <!-- لوگو -->
        <div class="logo">
            <a href="{% url 'home' %}">
                <img src="{% static 'images/logo.png' %}" alt="زیما" height="50">
            </a>
        </div>

        <!-- جستجو -->
        <div class="search-box flex-grow-1 mx-4">
            <form action="{% url 'products:search' %}" method="get" class="d-flex">
                <input type="text" name="search" placeholder="جستجو در محصولات..." class="form-control">
                <button type="submit" class="btn btn-primary me-2">
                    <i class="fa fa-search"></i>
                </button>
            </form>
        </div>

        <!-- آیکون‌های سمت راست -->
        <div class="header-icons d-flex">
            <div class="me-3">
                {% if user.is_authenticated %}
                    <a href="{% url 'users:profile' %}" class="text-dark text-decoration-none">
                        <i class="fas fa-user fa-lg"></i>
                        <span class="d-none d-md-inline">{{ user.username }}</span>
                    </a>
                {% else %}
                    <a href="{% url 'users:login' %}" class="text-dark text-decoration-none">
                        <i class="fas fa-user fa-lg"></i>
                        <span class="d-none d-md-inline">ورود / ثبت‌نام</span>
                    </a>
                {% endif %}
            </div>

            <div class="position-relative me-3">
                <a href="{% url 'cart:summary' %}" class="text-dark text-decoration-none">
                    <i class="fas fa-shopping-cart fa-lg"></i>
                    <span class="badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill">
                        {{ request.session.cart|default:"0"|length }}
                    </span>
                </a>
            </div>
        </div>
    </div>
</header>
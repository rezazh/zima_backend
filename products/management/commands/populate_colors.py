# management/commands/populate_colors.py
# ابتدا این مسیر را ایجاد کنید: products/management/commands/

from django.core.management.base import BaseCommand
from products.models import Color


class Command(BaseCommand):
    help = 'Populate database with default Iranian colors'

    def handle(self, *args, **options):
        colors_data = [
            # خنثی
            ('سفید', '#FFFFFF'), ('مشکی', '#000000'), ('خاکستری', '#808080'),
            ('نقره‌ای', '#C0C0C0'), ('کرم', '#FFFDD0'), ('بژ', '#F5F5DC'),
            ('طوسی', '#708090'), ('دودی', '#696969'), ('زغالی', '#36454F'),
            ('استخوانی', '#F9F6EE'), ('شیری', '#FDFFF5'), ('خاکستری روشن', '#D3D3D3'),

            # قرمز طیف
            ('قرمز', '#FF0000'), ('زرشکی', '#8B0000'), ('سرخ', '#E30022'),
            ('لاکی', '#D21404'), ('آجری', '#B22222'), ('قرمز آتشین', '#FF4500'),
            ('قرمز گیلاسی', '#D2042D'), ('عنابی', '#722F37'), ('کالباسی', '#F08080'),
            ('قرمز توت فرنگی', '#FC5A8D'), ('جگری', '#800020'), ('آلبالویی', '#8B0000'),
            ('قرمز گوجه‌ای', '#FF6347'), ('شرابی', '#722F37'), ('سرخابی', '#DC143C'),

            # صورتی طیف
            ('صورتی', '#FFC0CB'), ('صورتی کم‌رنگ', '#FFB6C1'), ('صورتی تیره', '#FF69B4'),
            ('رز', '#FF007F'), ('گلی', '#FFB5C5'), ('صورتی پررنگ', '#DE3163'),
            ('صورتی پاستلی', '#F8C8DC'), ('مرجانی', '#FF7F50'), ('رزگلد', '#B76E79'),

            # نارنجی طیف
            ('نارنجی', '#FFA500'), ('هلویی', '#FFE5B4'), ('نارنجی تیره', '#FF8C00'),
            ('نارنجی روشن', '#FFD580'), ('کهربایی', '#FFBF00'), ('پرتقالی', '#FCA510'),
            ('زردآلویی', '#FBCEB1'), ('مسی', '#B87333'), ('نارنجی پرتقالی', '#FF7518'),

            # زرد طیف
            ('زرد', '#FFFF00'), ('طلایی', '#FFD700'), ('لیمویی', '#32CD32'),
            ('زرد کم‌رنگ', '#FFFFE0'), ('زرد آفتابی', '#FFC72C'), ('زرد کانولا', '#FFEF00'),
            ('نباتی', '#F5DEB3'), ('زرد لیمو', '#FFF44F'), ('برنزی', '#CD7F32'),
            ('خردلی', '#FFDB58'), ('زرد قناری', '#FFFF99'), ('کاهی', '#E8DEB5'),
            ('نخودی', '#F2DDA4'),

            # سبز طیف
            ('سبز', '#008000'), ('سبز لجنی', '#556B2F'), ('سبز یشمی', '#00A86B'),
            ('سبز زیتونی', '#808000'), ('سبز تیره', '#006400'), ('سبز روشن', '#90EE90'),
            ('سبز جنگلی', '#228B22'), ('سبز دریایی', '#2E8B57'), ('سبز چمنی', '#7CFC00'),
            ('سبز فسفری', '#7FFF00'), ('سبز نعنایی', '#98FF98'), ('سبز کاج', '#01796F'),
            ('سبز پسته‌ای', '#93C572'), ('سبز ارتشی', '#4B5320'), ('سبزآبی', '#008080'),
            ('سبز زمردی', '#50C878'), ('سبز سیدی', '#32CD32'),

            # آبی طیف
            ('آبی', '#0000FF'), ('آبی آسمانی', '#87CEEB'), ('آبی نفتی', '#000080'),
            ('فیروزه‌ای', '#40E0D0'), ('آبی روشن', '#ADD8E6'), ('آبی تیره', '#00008B'),
            ('آبی دریایی', '#006994'), ('آبی یخی', '#99FFFF'), ('آبی الکتریک', '#7DF9FF'),
            ('آبی کبالت', '#0047AB'), ('سرمه‌ای', '#191970'), ('لاجوردی', '#4169E1'),
            ('آبی پودری', '#B0E0E6'), ('آبی پاستلی', '#A7C7E7'), ('کله غازی', '#008B8B'),
            ('نیلی', '#4B0082'),

            # بنفش طیف
            ('بنفش', '#8A2BE2'), ('یاسی', '#C8A2C8'), ('ارغوانی', '#9932CC'),
            ('بنفش تیره', '#301934'), ('بنفش روشن', '#E6E6FA'), ('بادمجانی', '#483D8B'),
            ('ماژنتا', '#FF00FF'), ('بنفش شاهی', '#800080'), ('بنفش پاستلی', '#B1A2C7'),
            ('ویولت', '#8F00FF'),

            # قهوه‌ای طیف
            ('قهوه‌ای', '#A52A2A'), ('شکلاتی', '#D2691E'), ('قهوه‌ای تیره', '#654321'),
            ('قهوه‌ای روشن', '#C4A484'), ('خاکی', '#C2B280'), ('کاراملی', '#C68E17'),
            ('قهوه‌ای سوخته', '#3B2F2F'), ('عسلی', '#D4AF37'), ('گندمی', '#F5DEB3'),
            ('شنی', '#C2B280'), ('زعفرانی', '#F4C430'), ('حنایی', '#AB274F'),
            ('خرمایی', '#5C4033'), ('نسکافه‌ای', '#826644'), ('دارچینی', '#D2691E'),

            # رنگ‌های خاص
            ('صدفی', '#FAF0E6'), ('مروارید', '#E2DFD2'), ('فیروزه', '#30D5C8'),
            ('بادامی', '#EED9C4'), ('گردویی', '#725C42'), ('انار', '#C0362C'),
            ('انگوری', '#6F2DA8'), ('توتی', '#5A1F3C'), ('نارگیلی', '#965A3E'),
        ]

        created_count = 0
        updated_count = 0

        for name, hex_code in colors_data:
            color, created = Color.objects.get_or_create(
                name=name,
                defaults={'hex_code': hex_code, 'is_active': True}
            )

            if created:
                created_count += 1
                self.stdout.write(
                    self.style.SUCCESS(f'رنگ "{name}" با کد "{hex_code}" ایجاد شد.')
                )
            else:
                # اگر رنگ وجود دارد اما hex_code متفاوت است، آپدیت کن
                if color.hex_code != hex_code:
                    color.hex_code = hex_code
                    color.save()
                    updated_count += 1
                    self.stdout.write(
                        self.style.WARNING(f'کد رنگ "{name}" به "{hex_code}" آپدیت شد.')
                    )

        self.stdout.write(
            self.style.SUCCESS(
                f'\nخلاصه:\n'
                f'- {created_count} رنگ جدید ایجاد شد\n'
                f'- {updated_count} رنگ آپدیت شد\n'
                f'- مجموع رنگ‌های موجود: {Color.objects.count()}'
            )
        )
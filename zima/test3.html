<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>سبد خرید | زیما - تکمیل خرید</title>
 <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;600;700;900&family=Vazir:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
 <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
 <style>
 :root {
 --zima-deep: #2C1810;
 --zima-brown: #8B4513;
 --zima-gold: #DAA520;
 --zima-cream: #F5F5DC;
 --zima-ivory: #FFFFF0;
 --zima-rose: #E8B4B8;
 --zima-coral: #FF6B6B;
 --zima-peach: #FFCCCB;
 --zima-blush: #FFF0F5;
 --zima-champagne: #F7E7CE;
 --zima-bronze: #CD7F32;
 --zima-pearl: #EAE0C8;
 --zima-sage: #BCB88A;
 --zima-mauve: #E0B4D6;
 --success-green: #28a745;
 --warning-orange: #ffc107;
 --danger-red: #dc3545;
 --shadow-soft: rgba(139, 69, 19, 0.1);
 --shadow-medium: rgba(139, 69, 19, 0.2);
 --shadow-strong: rgba(139, 69, 19, 0.3);
 }

 * {
 margin: 0;
 padding: 0;
 box-sizing: border-box;
 }

 body {
 font-family: 'Vazir', sans-serif;
 background: linear-gradient(135deg, var(--zima-ivory) 0%, var(--zima-blush) 50%, var(--zima-champagne) 100%);
 color: var(--zima-deep);
 overflow-x: hidden;
 cursor: none;
 line-height: 1.7;
 min-height: 100vh;
 }

 /* Magical Cursor System */
 .cursor {
 width: 25px;
 height: 25px;
 border: 2px solid var(--zima-gold);
 border-radius: 50%;
 position: fixed;
 pointer-events: none;
 z-index: 9999;
 transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
 backdrop-filter: blur(5px);
 mix-blend-mode: multiply;
 }

 .cursor-dot {
 width: 6px;
 height: 6px;
 background: var(--zima-coral);
 border-radius: 50%;
 position: fixed;
 pointer-events: none;
 z-index: 10000;
 transition: all 0.1s ease;
 }

 .cursor.expand {
 transform: scale(3);
 background: rgba(218, 165, 32, 0.1);
 border-color: var(--zima-coral);
 }

 /* Loading Screen */
 .loader {
 position: fixed;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 background: linear-gradient(45deg, var(--zima-deep), var(--zima-brown));
 z-index: 10001;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: opacity 1s ease, visibility 1s ease;
 }

 .loader.hidden {
 opacity: 0;
 visibility: hidden;
 }

 .loader-content {
 text-align: center;
 }

 .loader-logo {
 font-size: 4rem;
 font-weight: 700;
 color: var(--zima-gold);
 font-family: 'Playfair Display', serif;
 margin-bottom: 20px;
 animation: logoGlow 2s ease-in-out infinite alternate;
 }

 @keyframes logoGlow {
 0% { text-shadow: 0 0 20px var(--zima-gold); }
 100% { text-shadow: 0 0 40px var(--zima-gold), 0 0 60px var(--zima-gold); }
 }

 /* Navigation */
 .nav-container {
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 z-index: 1000;
 background: rgba(255, 255, 240, 0.95);
 backdrop-filter: blur(30px);
 border-bottom: 1px solid var(--shadow-soft);
 transition: all 0.4s ease;
 }

 .nav-container.scrolled {
 background: rgba(255, 255, 240, 0.98);
 box-shadow: 0 10px 40px var(--shadow-soft);
 }

 .navbar {
 max-width: 1600px;
 margin: 0 auto;
 padding: 20px 50px;
 display: flex;
 justify-content: space-between;
 align-items: center;
 }

 .logo {
 font-size: 3rem;
 font-weight: 900;
 background: linear-gradient(135deg, var(--zima-brown), var(--zima-gold), var(--zima-coral));
 -webkit-background-clip: text;
 -webkit-text-fill-color: transparent;
 text-decoration: none;
 font-family: 'Playfair Display', serif;
 }

 .nav-menu {
 display: flex;
 list-style: none;
 gap: 40px;
 align-items: center;
 }

 .nav-link {
 color: var(--zima-deep);
 text-decoration: none;
 font-weight: 500;
 font-size: 1.05rem;
 position: relative;
 transition: all 0.3s ease;
 padding: 10px 0;
 }

 .nav-link::before {
 content: '';
 position: absolute;
 bottom: -5px;
 left: 50%;
 width: 0;
 height: 3px;
 background: linear-gradient(90deg, var(--zima-gold), var(--zima-coral));
 transition: all 0.4s ease;
 transform: translateX(-50%);
 }

 .nav-link:hover::before {
 width: 100%;
 }

 .nav-icons {
 display: flex;
 gap: 25px;
 align-items: center;
 }

 .nav-icon {
 color: var(--zima-deep);
 font-size: 1.3rem;
 cursor: pointer;
 transition: all 0.3s ease;
 position: relative;
 }

 .nav-icon:hover {
 color: var(--zima-coral);
 transform: translateY(-3px);
 }

 .cart-badge {
 position: absolute;
 top: -8px;
 right: -8px;
 width: 20px;
 height: 20px;
 background: linear-gradient(135deg, var(--zima-coral), var(--zima-gold));
 color: white;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 0.75rem;
 font-weight: 700;
 }

 /* Cart Hero Section */
 .cart-hero {
 margin-top: 80px;
 padding: 60px 0;
 background: linear-gradient(135deg,
 var(--zima-blush) 0%,
 var(--zima-champagne) 50%,
 var(--zima-pearl) 100%);
 text-align: center;
 position: relative;
 overflow: hidden;
 }

 .cart-hero::before {
 content: '';
 position: absolute;
 top: -50%;
 left: -50%;
 width: 200%;
 height: 200%;
 background: radial-gradient(circle, var(--zima-gold) 0%, transparent 70%);
 opacity: 0.05;
 animation: rotate 30s linear infinite;
 }

 @keyframes rotate {
 0% { transform: rotate(0deg); }
 100% { transform: rotate(360deg); }
 }

 .hero-content {
 position: relative;
 z-index: 2;
 max-width: 800px;
 margin: 0 auto;
 padding: 0 20px;
 }

 .hero-title {
 font-size: 3.5rem;
 font-weight: 800;
 margin-bottom: 15px;
 font-family: 'Playfair Display', serif;
 background: linear-gradient(135deg, var(--zima-deep), var(--zima-gold), var(--zima-coral));
 -webkit-background-clip: text;
 -webkit-text-fill-color: transparent;
 }

 .hero-subtitle {
 font-size: 1.2rem;
 color: var(--zima-brown);
 margin-bottom: 25px;
 }

 .breadcrumb {
 display: inline-flex;
 align-items: center;
 gap: 15px;
 background: white;
 padding: 12px 25px;
 border-radius: 50px;
 box-shadow: 0 10px 30px var(--shadow-soft);
 }

 .breadcrumb a {
 color: var(--zima-brown);
 text-decoration: none;
 transition: color 0.3s ease;
 }

 .breadcrumb a:hover {
 color: var(--zima-coral);
 }

 .breadcrumb span {
 color: var(--zima-gold);
 }

 /* Progress Steps */
 .progress-container {
 max-width: 1200px;
 margin: 0 auto;
 padding: 40px 50px;
 }

 .progress-steps {
 display: flex;
 justify-content: space-between;
 align-items: center;
 position: relative;
 }

 .progress-steps::before {
 content: '';
 position: absolute;
 top: 50%;
 left: 0;
 right: 0;
 height: 3px;
 background: var(--zima-pearl);
 z-index: 1;
 }

 .progress-fill {
 position: absolute;
 top: 50%;
 left: 0;
 height: 3px;
 background: linear-gradient(90deg, var(--zima-coral), var(--zima-gold));
 width: 33.33%;
 z-index: 2;
 transition: width 0.5s ease;
 }

 .step {
 background: white;
 width: 60px;
 height: 60px;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 position: relative;
 z-index: 3;
 border: 3px solid var(--zima-pearl);
 color: var(--zima-brown);
 font-size: 1.5rem;
 transition: all 0.3s ease;
 }

 .step.active {
 background: linear-gradient(135deg, var(--zima-coral), var(--zima-gold));
 color: white;
 border-color: transparent;
 box-shadow: 0 10px 25px rgba(255, 107, 107, 0.3);
 }

 .step.completed {
 background: var(--success-green);
 color: white;
 border-color: transparent;
 }

 .step-label {
 position: absolute;
 top: 80px;
 left: 50%;
 transform: translateX(-50%);
 font-weight: 600;
 color: var(--zima-brown);
 white-space: nowrap;
 }

 .step.active .step-label {
 color: var(--zima-coral);
 }

 /* Main Cart Section */
 .cart-main {
 max-width: 1400px;
 margin: 0 auto;
 padding: 60px 50px;
 display: grid;
 grid-template-columns: 2fr 1fr;
 gap: 60px;
 }

 /* Cart Items */
 .cart-items {
 background: white;
 border-radius: 25px;
 padding: 40px;
 box-shadow: 0 15px 40px var(--shadow-soft);
 }

 .cart-header {
 display: flex;
 justify-content: space-between;
 align-items: center;
 margin-bottom: 30px;
 padding-bottom: 20px;
 border-bottom: 2px solid var(--zima-pearl);
 }

 .cart-title {
 font-size: 2rem;
 font-weight: 700;
 color: var(--zima-deep);
 font-family: 'Playfair Display', serif;
 }

 .items-count {
 color: var(--zima-coral);
 font-weight: 600;
 background: var(--zima-blush);
 padding: 8px 20px;
 border-radius: 20px;
 }

 .cart-item {
 display: flex;
 align-items: center;
 padding: 25px 0;
 border-bottom: 1px solid var(--zima-pearl);
 transition: all 0.3s ease;
 position: relative;
 }

 .cart-item:hover {
 background: var(--zima-blush);
 margin: 0 -20px;
 padding: 25px 20px;
 border-radius: 15px;
 }

 .cart-item:last-child {
 border-bottom: none;
 }

 .item-image {
 width: 120px;
 height: 120px;
 border-radius: 15px;
 object-fit: cover;
 margin-left: 20px;
 box-shadow: 0 10px 25px var(--shadow-soft);
 }

 .item-details {
 flex: 1;
 margin-left: 20px;
 }

 .item-brand {
 color: var(--zima-coral);
 font-size: 0.9rem;
 font-weight: 700;
 text-transform: uppercase;
 letter-spacing: 1px;
 margin-bottom: 5px;
 }

 .item-name {
 font-size: 1.3rem;
 font-weight: 600;
 color: var(--zima-deep);
 margin-bottom: 8px;
 }

 .item-options {
 display: flex;
 gap: 20px;
 margin-bottom: 10px;
 }

 .item-option {
 display: flex;
 align-items: center;
 gap: 8px;
 color: var(--zima-brown);
 font-size: 0.9rem;
 }

 .option-label {
 font-weight: 600;
 }

 .color-indicator {
 width: 20px;
 height: 20px;
 border-radius: 50%;
 border: 2px solid white;
 box-shadow: 0 2px 5px rgba(0,0,0,0.1);
 }

 .item-actions {
 display: flex;
 gap: 15px;
 margin-top: 10px;
 }

 .action-link {
 color: var(--zima-coral);
 text-decoration: none;
 font-size: 0.9rem;
 font-weight: 600;
 display: flex;
 align-items: center;
 gap: 5px;
 transition: all 0.3s ease;
 }

 .action-link:hover {
 color: var(--zima-gold);
 transform: translateX(-3px);
 }

 .quantity-controls {
 display: flex;
 align-items: center;
 gap: 15px;
 margin-left: 20px;
 }

 .quantity-btn {
 width: 35px;
 height: 35px;
 border: 2px solid var(--zima-pearl);
 background: white;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 transition: all 0.3s ease;
 font-weight: 700;
 color: var(--zima-brown);
 }

 .quantity-btn:hover {
 border-color: var(--zima-coral);
 color: var(--zima-coral);
 transform: scale(1.1);
 }

 .quantity-btn:disabled {
 opacity: 0.5;
 cursor: not-allowed;
 }

 .quantity-display {
 min-width: 40px;
 text-align: center;
 font-weight: 700;
 font-size: 1.1rem;
 color: var(--zima-deep);
 }

 .item-price {
 margin-left: 30px;
 text-align: right;
 }

 .price-current {
 font-size: 1.4rem;
 font-weight: 800;
 color: var(--zima-coral);
 font-family: 'Playfair Display', serif;
 }

 .price-original {
 font-size: 1rem;
 color: var(--zima-brown);
 text-decoration: line-through;
 opacity: 0.7;
 display: block;
 margin-top: 3px;
 }

 .remove-item {
 position: absolute;
 top: 10px;
 right: 10px;
 width: 30px;
 height: 30px;
 background: rgba(220, 53, 69, 0.1);
 color: var(--danger-red);
 border: none;
 border-radius: 50%;
 cursor: pointer;
 transition: all 0.3s ease;
 display: flex;
 align-items: center;
 justify-content: center;
 }

 .remove-item:hover {
 background: var(--danger-red);
 color: white;
 transform: scale(1.1);
 }

 /* Empty Cart */
 .empty-cart {
 text-align: center;
 padding: 60px 20px;
 }

 .empty-icon {
 font-size: 4rem;
 color: var(--zima-pearl);
 margin-bottom: 20px;
 }

 .empty-title {
 font-size: 2rem;
 font-weight: 700;
 color: var(--zima-brown);
 margin-bottom: 15px;
 font-family: 'Playfair Display', serif;
 }

 .empty-text {
 color: var(--zima-brown);
 margin-bottom: 30px;
 font-size: 1.1rem;
 }

 .btn-continue-shopping {
 background: linear-gradient(135deg, var(--zima-coral), var(--zima-gold));
 color: white;
 padding: 15px 35px;
 border: none;
 border-radius: 50px;
 font-weight: 600;
 cursor: pointer;
 transition: all 0.3s ease;
 text-decoration: none;
 display: inline-flex;
 align-items: center;
 gap: 10px;
 }

 .btn-continue-shopping:hover {
 transform: translateY(-3px);
 box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
 }

 /* Cart Summary */
 .cart-summary {
 background: white;
 border-radius: 25px;
 padding: 40px;
 box-shadow: 0 15px 40px var(--shadow-soft);
 height: fit-content;
 position: sticky;
 top: 120px;
 }

 .summary-title {
 font-size: 1.8rem;
 font-weight: 700;
 color: var(--zima-deep);
 margin-bottom: 25px;
 font-family: 'Playfair Display', serif;
 text-align: center;
 }

 .summary-row {
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 15px 0;
 border-bottom: 1px solid var(--zima-pearl);
 }

 .summary-row:last-child {
 border-bottom: none;
 }

 .summary-label {
 color: var(--zima-brown);
 font-weight: 500;
 }

 .summary-value {
 font-weight: 700;
 color: var(--zima-deep);
 }

 .summary-total {
 background: var(--zima-blush);
 margin: 0 -20px;
 padding: 20px;
 border-radius: 15px;
 font-size: 1.2rem;
 }

 .summary-total .summary-value {
 color: var(--zima-coral);
 font-size: 1.5rem;
 font-family: 'Playfair Display', serif;
 }

 /* Discount Code */
 .discount-section {
 margin: 25px 0;
 }

 .discount-title {
 font-weight: 600;
 color: var(--zima-deep);
 margin-bottom: 15px;
 }

 .discount-form {
 display: flex;
 gap: 10px;
 }

 .discount-input {
 flex: 1;
 padding: 12px 15px;
 border: 2px solid var(--zima-pearl);
 border-radius: 25px;
 font-size: 0.9rem;
 transition: all 0.3s ease;
 }

 .discount-input:focus {
 outline: none;
 border-color: var(--zima-gold);
 }

 .discount-btn {
 background: var(--zima-brown);
 color: white;
 border: none;
 padding: 12px 20px;
 border-radius: 25px;
 font-weight: 600;
 cursor: pointer;
 transition: all 0.3s ease;
 }

 .discount-btn:hover {
 background: var(--zima-gold);
 transform: scale(1.05);
 }

 .discount-success {
 background: rgba(40, 167, 69, 0.1);
 color: var(--success-green);
 padding: 10px 15px;
 border-radius: 10px;
 margin-top: 10px;
 display: flex;
 align-items: center;
 gap: 8px;
 font-weight: 600;
 }

 /* Checkout Button */
 .checkout-section {
 margin-top: 30px;
 }

 .checkout-btn {
 width: 100%;
 background: linear-gradient(135deg, var(--zima-coral), var(--zima-gold));
 color: white;
 padding: 18px;
 border: none;
 border-radius: 50px;
 font-weight: 700;
 font-size: 1.1rem;
 cursor: pointer;
 transition: all 0.4s ease;
 text-transform: uppercase;
 letter-spacing: 1px;
 position: relative;
 overflow: hidden;
 }

 .checkout-btn::before {
 content: '';
 position: absolute;
 top: 0;
 left: -100%;
 width: 100%;
 height: 100%;
 background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
 transition: left 0.6s ease;
 }

 .checkout-btn:hover::before {
 left: 100%;
 }

 .checkout-btn:hover {
 transform: translateY(-3px);
 box-shadow: 0 15px 35px rgba(255, 107, 107, 0.4);
 }

 .secure-checkout {
 display: flex;
 align-items: center;
 justify-content: center;
 gap: 8px;
 margin-top: 15px;
 color: var(--zima-brown);
 font-size: 0.9rem;
 }

 /* Recommended Products */
 .recommended {
 margin-top: 80px;
 padding: 60px 0;
 background: var(--zima-ivory);
 }

 .recommended-container {
 max-width: 1400px;
 margin: 0 auto;
 padding: 0 50px;
 }

 .recommended-header {
 text-align: center;
 margin-bottom: 50px;
 }

 .recommended-title {
 font-size: 2.5rem;
 font-weight: 800;
 color: var(--zima-deep);
 margin-bottom: 15px;
 font-family: 'Playfair Display', serif;
 }

 .recommended-subtitle {
 color: var(--zima-brown);
 font-size: 1.1rem;
 }

 .recommended-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
 gap: 30px;
 }

 .recommended-item {
 background: white;
 border-radius: 20px;
 overflow: hidden;
 transition: all 0.4s ease;
 cursor: pointer;
 box-shadow: 0 10px 30px var(--shadow-soft);
 }

 .recommended-item:hover {
 transform: translateY(-8px);
 box-shadow: 0 20px 50px var(--shadow-medium);
 }

 .recommended-image {
 width: 100%;
 height: 200px;
 object-fit: cover;
 }

 .recommended-info {
 padding: 20px;
 }

 .recommended-name {
 font-size: 1.1rem;
 font-weight: 600;
 color: var(--zima-deep);
 margin-bottom: 8px;
 }

 .recommended-price {
 font-size: 1.2rem;
 font-weight: 700;
 color: var(--zima-coral);
 }

 .add-to-cart-btn {
 width: 100%;
 background: transparent;
 color: var(--zima-coral);
 border: 2px solid var(--zima-coral);
 padding: 10px;
 border-radius: 25px;
 font-weight: 600;
 cursor: pointer;
 transition: all 0.3s ease;
 margin-top: 15px;
 }

 .add-to-cart-btn:hover {
 background: var(--zima-coral);
 color: white;
 }

 /* Trust Badges */
 .trust-badges {
 display: flex;
 justify-content: center;
 gap: 40px;
 margin: 40px 0;
 flex-wrap: wrap;
 }

 .trust-badge {
 display: flex;
 align-items: center;
 gap: 10px;
 color: var(--zima-brown);
 font-size: 0.9rem;
 }

 .trust-icon {
 width: 30px;
 height: 30px;
 background: var(--zima-blush);
 color: var(--zima-coral);
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 }

 /* Floating Action Button */
 .floating-checkout {
 position: fixed;
 bottom: 30px;
 right: 30px;
 background: linear-gradient(135deg, var(--zima-coral), var(--zima-gold));
 color: white;
 width: 60px;
 height: 60px;
 border-radius: 50%;
 display: none;
 align-items: center;
 justify-content: center;
 box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
 cursor: pointer;
 transition: all 0.3s ease;
 z-index: 100;
 font-size: 1.5rem;
 }

 .floating-checkout:hover {
 transform: scale(1.1);
 }

 .floating-checkout.show {
 display: flex;
 }

 /* Toast Notification */
 .toast {
 position: fixed;
 bottom: 30px;
 left: 30px;
 background: white;
 padding: 20px 30px;
 border-radius: 50px;
 box-shadow: 0 10px 30px rgba(0,0,0,0.2);
 display: flex;
 align-items: center;
 gap: 15px;
 transform: translateX(-400px);
 transition: transform 0.3s ease;
 z-index: 1000;
 }

 .toast.show {
 transform: translateX(0);
 }

 .toast-icon {
 width: 30px;
 height: 30px;
 background: var(--zima-coral);
 color: white;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 }

 .toast-message {
 font-weight: 600;
 color: var(--zima-deep);
 }

 /* Responsive Design */
 @media (max-width: 1200px) {
 .cart-main {
 grid-template-columns: 1fr;
 gap: 40px;
 }

 .cart-summary {
 position: static;
 }
 }

 @media (max-width: 768px) {
 .nav-menu {
 display: none;
 }

 .cart-main {
 padding: 40px 20px;
 }

 .cart-items, .cart-summary {
 padding: 25px;
 }

 .cart-item {
 flex-direction: column;
 align-items: flex-start;
 gap: 15px;
 }

 .item-image {
 width: 100%;
 height: 200px;
 margin: 0 0 15px 0;
 }

 .quantity-controls {
 margin: 15px 0 0 0;
 }

 .item-price {
 margin: 0;
 text-align: left;
 }

 .progress-steps {
 flex-direction: column;
 gap: 20px;
 }

 .progress-steps::before {
 display: none;
 }

 .step-label {
 position: static;
 transform: none;
 margin-top: 10px;
 }

 .trust-badges {
 flex-direction: column;
 align-items: center;
 gap: 20px;
 }

 .recommended-grid {
 grid-template-columns: 1fr;
 }
 }

 @media (max-width: 480px) {
 .hero-title {
 font-size: 2.5rem;
 }

 .cart-item:hover {
 margin: 0;
 padding: 25px 0;
 }
 }

 /* Animations */
 .fade-in {
 opacity: 0;
 transform: translateY(30px);
 transition: all 0.8s ease;
 }

 .fade-in.visible {
 opacity: 1;
 transform: translateY(0);
 }

 .slide-in-right {
 opacity: 0;
 transform: translateX(50px);
 transition: all 0.6s ease;
 }

 .slide-in-right.visible {
 opacity: 1;
 transform: translateX(0);
 }

 /* Loading States */
 .loading {
 opacity: 0.7;
 pointer-events: none;
 position: relative;
 }

 .loading::after {
 content: '';
 position: absolute;
 top: 50%;
 left: 50%;
 width: 20px;
 height: 20px;
 border: 2px solid var(--zima-pearl);
 border-top-color: var(--zima-coral);
 border-radius: 50%;
 animation: spin 1s linear infinite;
 transform: translate(-50%, -50%);
 }

 @keyframes spin {
 0% { transform: translate(-50%, -50%) rotate(0deg); }
 100% { transform: translate(-50%, -50%) rotate(360deg); }
 }
 </style>
</head>
<body>
 <!-- Loading Screen -->
 <div class="loader" id="loader">
 <div class="loader-content">
 <div class="loader-logo">زیما</div>
 </div>
 </div>

 <!-- Toast Notification -->
 <div class="toast" id="toast">
 <div class="toast-icon">
 <i class="fas fa-check"></i>
 </div>
 <div class="toast-message">تغییرات اعمال شد</div>
 </div>

 <!-- Cursor -->
 <div class="cursor" id="cursor"></div>
 <div class="cursor-dot" id="cursorDot"></div>

 <!-- Navigation -->
 <div class="nav-container" id="navbar">
 <nav class="navbar">
 <a href="/" class="logo">زیما</a>

 <ul class="nav-menu">
 <li><a href="/" class="nav-link">صفحه اصلی</a></li>
 <li><a href="/products" class="nav-link">محصولات</a></li>
 <li><a href="#" class="nav-link">راهنمای سایز</a></li>
 <li><a href="#" class="nav-link">درباره ما</a></li>
 <li><a href="#" class="nav-link">تماس</a></li>
 </ul>

 <div class="nav-icons">
 <div class="nav-icon">
 <i class="fas fa-search"></i>
 </div>
 <div class="nav-icon">
 <i class="fas fa-heart"></i>
 </div>
 <div class="nav-icon">
 <i class="fas fa-user"></i>
 </div>
 <div class="nav-icon">
 <i class="fas fa-shopping-bag"></i>
 <span class="cart-badge" id="cartBadge">3</span>
 </div>
 </div>
 </nav>
 </div>

 <!-- Cart Hero -->
 <section class="cart-hero">
 <div class="hero-content">
 <h1 class="hero-title">سبد خرید</h1>
 <p class="hero-subtitle">مرور و تکمیل خرید شما</p>
 <nav class="breadcrumb">
 <a href="/">خانه</a>
 <span>/</span>
 <a href="/products">محصولات</a>
 <span>/</span>
 <span>سبد خرید</span>
 </nav>
 </div>
 </section>

 <!-- Progress Steps -->
 <div class="progress-container">
 <div class="progress-steps">
 <div class="progress-fill"></div>
 <div class="step active">
 <i class="fas fa-shopping-cart"></i>
 <div class="step-label">سبد خرید</div>
 </div>
 <div class="step">
 <i class="fas fa-truck"></i>
 <div class="step-label">اطلاعات ارسال</div>
 </div>
 <div class="step">
 <i class="fas fa-credit-card"></i>
 <div class="step-label">پرداخت</div>
 </div>
 </div>
 </div>

 <!-- Main Cart Section -->
 <div class="cart-main">
 <!-- Cart Items -->
 <div class="cart-items">
 <div class="cart-header">
 <h2 class="cart-title">محصولات انتخابی</h2>
 <div class="items-count" id="itemsCount">3 محصول</div>
 </div>

 <div id="cartItemsContainer">
 <!-- Cart Item 1 -->
 <div class="cart-item fade-in" data-item-id="1">
 <button class="remove-item" onclick="removeItem(1)">
 <i class="fas fa-times"></i>
 </button>
 <img src="product-1.jpg" alt="ست لباس زیر" class="item-image">
 <div class="item-details">
 <div class="item-brand">زیما</div>
 <h3 class="item-name">ست سوتین و شورت توری مشکی</h3>
 <div class="item-options">
 <div class="item-option">
 <span class="option-label">سایز:</span>
 <span>M</span>
 </div>
 <div class="item-option">
 <span class="option-label">رنگ:</span>
 <div class="color-indicator" style="background: #000000;"></div>
 <span>مشکی</span>
 </div>
 </div>
 <div class="item-actions">
 <a href="#" class="action-link" onclick="editItem(1)">
 <i class="fas fa-edit"></i>
 ویرایش
 </a>
 <a href="#" class="action-link" onclick="saveForLater(1)">
 <i class="fas fa-heart"></i>
 ذخیره برای بعد
 </a>
 </div>
 </div>
 <div class="quantity-controls">
 <button class="quantity-btn" onclick="decreaseQuantity(1)">−</button>
 <span class="quantity-display" id="quantity-1">2</span>
 <button class="quantity-btn" onclick="increaseQuantity(1)">+</button>
 </div>
 <div class="item-price">
 <div class="price-current">۶۴۰,۰۰۰ تومان</div>
 <div class="price-original">۸۰۰,۰۰۰ تومان</div>
 </div>
 </div>

 <!-- Cart Item 2 -->
 <div class="cart-item fade-in" data-item-id="2">
 <button class="remove-item" onclick="removeItem(2)">
 <i class="fas fa-times"></i>
 </button>
 <img src="product-2.jpg" alt="لباس خواب" class="item-image">
 <div class="item-details">
 <div class="item-brand">زیما</div>
 <h3 class="item-name">لباس خواب ساتن کوتاه صورتی</h3>
 <div class="item-options">
 <div class="item-option">
 <span class="option-label">سایز:</span>
 <span>L</span>
 </div>
 <div class="item-option">
 <span class="option-label">رنگ:</span>
 <div class="color-indicator" style="background: #FFC0CB;"></div>
 <span>صورتی</span>
 </div>
 </div>
 <div class="item-actions">
 <a href="#" class="action-link" onclick="editItem(2)">
 <i class="fas fa-edit"></i>
 ویرایش
 </a>
 <a href="#" class="action-link" onclick="saveForLater(2)">
 <i class="fas fa-heart"></i>
 ذخیره برای بعد
 </a>
 </div>
 </div>
 <div class="quantity-controls">
 <button class="quantity-btn" onclick="decreaseQuantity(2)">−</button>
 <span class="quantity-display" id="quantity-2">1</span>
 <button class="quantity-btn" onclick="increaseQuantity(2)">+</button>
 </div>
 <div class="item-price">
 <div class="price-current">۲۸۵,۰۰۰ تومان</div>
 </div>
 </div>

 <!-- Cart Item 3 -->
 <div class="cart-item fade-in" data-item-id="3">
 <button class="remove-item" onclick="removeItem(3)">
 <i class="fas fa-times"></i>
 </button>
 <img src="product-3.jpg" alt="بادی سوت" class="item-image">
 <div class="item-details">
 <div class="item-brand">زیما</div>
 <h3 class="item-name">بادی سوت توری قرمز</h3>
 <div class="item-options">
 <div class="item-option">
 <span class="option-label">سایز:</span>
 <span>S</span>
 </div>
 <div class="item-option">
 <span class="option-label">رنگ:</span>
 <div class="color-indicator" style="background: #FF0000;"></div>
 <span>قرمز</span>
 </div>
 </div>
 <div class="item-actions">
 <a href="#" class="action-link" onclick="editItem(3)">
 <i class="fas fa-edit"></i>
 ویرایش
 </a>
 <a href="#" class="action-link" onclick="saveForLater(3)">
 <i class="fas fa-heart"></i>
 ذخیره برای بعد
 </a>
 </div>
 </div>
 <div class="quantity-controls">
 <button class="quantity-btn" onclick="decreaseQuantity(3)">−</button>
 <span class="quantity-display" id="quantity-3">1</span>
 <button class="quantity-btn" onclick="increaseQuantity(3)">+</button>
 </div>
 <div class="item-price">
 <div class="price-current">۴۲۰,۰۰۰ تومان</div>
 </div>
 </div>
 </div>

 <!-- Empty Cart (Hidden by default) -->
 <div class="empty-cart" id="emptyCart" style="display: none;">
 <div class="empty-icon">
 <i class="fas fa-shopping-cart"></i>
 </div>
 <h3 class="empty-title">سبد خرید شما خالی است</h3>
 <p class="empty-text">محصولات زیبای زیما را کشف کنید و خریدتان را شروع کنید</p>
 <a href="/products" class="btn-continue-shopping">
 <i class="fas fa-arrow-right"></i>
 ادامه خرید
 </a>
 </div>
 </div>

 <!-- Cart Summary -->
 <div class="cart-summary slide-in-right">
 <h3 class="summary-title">خلاصه سفارش</h3>

 <div class="summary-row">
 <span class="summary-label">جمع کل محصولات:</span>
 <span class="summary-value" id="subtotal">۱,۳۴۵,۰۰۰ تومان</span>
 </div>

 <div class="summary-row">
 <span class="summary-label">تخفیف:</span>
 <span class="summary-value" id="discount">-۱۶۰,۰۰۰ تومان</span>
 </div>

 <div class="summary-row">
 <span class="summary-label">هزینه ارسال:</span>
 <span class="summary-value" id="shipping">رایگان</span>
 </div>

 <div class="summary-row">
 <span class="summary-label">مالیات:</span>
 <span class="summary-value" id="tax">۱۱۸,۵۰۰ تومان</span>
 </div>

 <div class="summary-row summary-total">
 <span class="summary-label">مبلغ نهایی:</span>
 <span class="summary-value" id="total">۱,۳۰۳,۵۰۰ تومان</span>
 </div>

 <!-- Discount Code -->
 <div class="discount-section">
 <h4 class="discount-title">کد تخفیف</h4>
 <form class="discount-form" onsubmit="applyDiscount(event)">
 <input type="text" class="discount-input" placeholder="کد تخفیف را وارد کنید" id="discountCode">
 <button type="submit" class="discount-btn">اعمال</button>
 </form>
 <div class="discount-success" id="discountSuccess" style="display: none;">
 <i class="fas fa-check-circle"></i>
 <span>کد تخفیف ZIMA20 اعمال شد</span>
 </div>
 </div>

 <!-- Checkout -->
 <div class="checkout-section">
 <button class="checkout-btn" onclick="proceedToCheckout()">
 <i class="fas fa-lock"></i>
 ادامه فرآیند خرید
 </button>
 <div class="secure-checkout">
 <i class="fas fa-shield-alt"></i>
 <span>پرداخت امن و محافظت شده</span>
 </div>
 </div>

 <!-- Trust Badges -->
 <div class="trust-badges">
 <div class="trust-badge">
 <div class="trust-icon">
 <i class="fas fa-truck"></i>
 </div>
 <span>ارسال رایگان</span>
 </div>
 <div class="trust-badge">
 <div class="trust-icon">
 <i class="fas fa-undo"></i>
 </div>
 <span>۳۰ روز ضمانت</span>
 </div>
 <div class="trust-badge">
 <div class="trust-icon">
 <i class="fas fa-headset"></i>
 </div>
 <span>پشتیبانی ۲۴/۷</span>
 </div>
 </div>
 </div>
 </div>

 <!-- Floating Checkout Button -->
 <div class="floating-checkout" id="floatingCheckout" onclick="proceedToCheckout()">
 <i class="fas fa-credit-card"></i>
 </div>

 <!-- Recommended Products -->
 <section class="recommended fade-in">
 <div class="recommended-container">
 <div class="recommended-header">
 <h2 class="recommended-title">پیشنهادات ویژه</h2>
 <p class="recommended-subtitle">محصولاتی که ممکن است بپسندید</p>
 </div>

 <div class="recommended-grid">
 <div class="recommended-item">
 <img src="recommended-1.jpg" alt="محصول پیشنهادی" class="recommended-image">
 <div class="recommended-info">
 <h4 class="recommended-name">ست زیر شب عروسی</h4>
 <div class="recommended-price">۵۸۰,۰۰۰ تومان</div>
 <button class="add-to-cart-btn" onclick="addRecommended(1)">
 افزودن به سبد
 </button>
 </div>
 </div>

 <div class="recommended-item">
 <img src="recommended-2.jpg" alt="محصول پیشنهادی" class="recommended-image">
 <div class="recommended-info">
 <h4 class="recommended-name">روب حمام مخمل</h4>
 <div class="recommended-price">۴۵۰,۰۰۰ تومان</div>
 <button class="add-to-cart-btn" onclick="addRecommended(2)">
 افزودن به سبد
 </button>
 </div>
 </div>

 <div class="recommended-item">
 <img src="recommended-3.jpg" alt="محصول پیشنهادی" class="recommended-image">
 <div class="recommended-info">
 <h4 class="recommended-name">لباس خواب حریر</h4>
 <div class="recommended-price">۳۲۰,۰۰۰ تومان</div>
 <button class="add-to-cart-btn" onclick="addRecommended(3)">
 افزودن به سبد
 </button>
 </div>
 </div>

 <div class="recommended-item">
 <img src="recommended-4.jpg" alt="محصول پیشنهادی" class="recommended-image">
 <div class="recommended-info">
 <h4 class="recommended-name">ست اسپرت ورزشی</h4>
 <div class="recommended-price">۲۸۰,۰۰۰ تومان</div>
 <button class="add-to-cart-btn" onclick="addRecommended(4)">
 افزودن به سبد
 </button>
 </div>
 </div>
 </div>
 </div>
 </section>

 <!-- Footer -->
 <footer class="footer" style="background: var(--zima-deep); color: white; padding: 80px 0 40px;">
 <div style="max-width: 1600px; margin: 0 auto; padding: 0 50px; display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 60px; margin-bottom: 50px;">
 <div>
 <h3 style="font-size: 2.5rem; font-family: 'Playfair Display', serif; margin-bottom: 20px; background: linear-gradient(135deg, var(--zima-gold), var(--zima-coral)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">زیما</h3>
 <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.8; margin-bottom: 30px;">
 زیما، برندی است که زیبایی خصوصی شما را اولویت قرار می‌دهد.
 ما معتقدیم هر زنی شایسته احساس زیبایی، راحتی و اعتماد به نفس است.
 </p>
 <div style="display: flex; gap: 15px;">
 <a href="#" style="width: 45px; height: 45px; background: rgba(218, 165, 32, 0.1); border: 2px solid var(--zima-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--zima-gold); text-decoration: none; transition: all 0.3s ease;">
 <i class="fab fa-instagram"></i>
 </a>
 <a href="#" style="width: 45px; height: 45px; background: rgba(218, 165, 32, 0.1); border: 2px solid var(--zima-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--zima-gold); text-decoration: none; transition: all 0.3s ease;">
 <i class="fab fa-telegram"></i>
 </a>
 <a href="#" style="width: 45px; height: 45px; background: rgba(218, 165, 32, 0.1); border: 2px solid var(--zima-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--zima-gold); text-decoration: none; transition: all 0.3s ease;">
 <i class="fab fa-whatsapp"></i>
 </a>
 <a href="#" style="width: 45px; height: 45px; background: rgba(218, 165, 32, 0.1); border: 2px solid var(--zima-gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--zima-gold); text-decoration: none; transition: all 0.3s ease;">
 <i class="fab fa-pinterest"></i>
 </a>
 </div>
 </div>

 <div>
 <h4 style="font-size: 1.3rem; margin-bottom: 25px; color: white; font-weight: 700;">خدمات مشتریان</h4>
 <ul style="list-style: none;">
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">راهنمای خرید</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">راهنمای سایز</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">شرایط ارسال</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">ضمانت بازگشت</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">پشتیبانی آنلاین</a></li>
 </ul>
 </div>

 <div>
 <h4 style="font-size: 1.3rem; margin-bottom: 25px; color: white; font-weight: 700;">درباره زیما</h4>
 <ul style="list-style: none;">
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">داستان ما</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">کیفیت محصولات</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">حریم خصوصی</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">مجله زیما</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">فرصت‌های شغلی</a></li>
 </ul>
 </div>

 <div>
 <h4 style="font-size: 1.3rem; margin-bottom: 25px; color: white; font-weight: 700;">تماس با ما</h4>
 <ul style="list-style: none;">
 <li style="margin-bottom: 12px;"><a href="tel:+982177889900" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">۰۲۱-۷۷۸۸۹۹۰۰</a></li>
 <li style="margin-bottom: 12px;"><a href="mailto:info@zima.ir" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">info@zima.ir</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">تهران، ولنجک، برج میلاد</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">شنبه تا پنجشنبه ۹-۱۸</a></li>
 <li style="margin-bottom: 12px;"><a href="#" style="color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: all 0.3s ease;">جمعه ۱۰-۱۶</a></li>
 </ul>
 </div>
 </div>

 <div style="text-align: center; padding-top: 40px; border-top: 1px solid rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.6);">
 <p>&copy; ۱۴۰۳ زیما. تمامی حقوق محفوظ است. طراحی شده با 💎 برای زنان ایران</p>
 </div>
 </footer>

 <script>
 // Global Variables
 let cartItems = [
 { id: 1, name: 'ست سوتین و شورت توری مشکی', price: 320000, originalPrice: 400000, quantity: 2, size: 'M', color: 'مشکی' },
 { id: 2, name: 'لباس خواب ساتن کوتاه صورتی', price: 285000, quantity: 1, size: 'L', color: 'صورتی' },
 { id: 3, name: 'بادی سوت توری قرمز', price: 420000, quantity: 1, size: 'S', color: 'قرمز' }
 ];

 let discountCode = '';
 let discountAmount = 0;

 // Loading Animation
 window.addEventListener('load', () => {
 setTimeout(() => {
 document.getElementById('loader').classList.add('hidden');
 }, 2000);
 });

 // Cursor System
 const cursor = document.getElementById('cursor');
 const cursorDot = document.getElementById('cursorDot');
 let mouseX = 0, mouseY = 0;
 let cursorX = 0, cursorY = 0;

 document.addEventListener('mousemove', (e) => {
 mouseX = e.clientX;
 mouseY = e.clientY;
 });

 function animateCursor() {
 cursorX += (mouseX - cursorX) * 0.1;
 cursorY += (mouseY - cursorY) * 0.1;

 cursor.style.left = cursorX + 'px';
 cursor.style.top = cursorY + 'px';
 cursorDot.style.left = mouseX + 'px';
 cursorDot.style.top = mouseY + 'px';

 requestAnimationFrame(animateCursor);
 }
 animateCursor();

 // Hover Effects
 document.querySelectorAll('a, button, .cart-item, .recommended-item').forEach(el => {
 el.addEventListener('mouseenter', () => {
 cursor.classList.add('expand');
 });

 el.addEventListener('mouseleave', () => {
 cursor.classList.remove('expand');
 });
 });

 // Navbar Scroll
 window.addEventListener('scroll', () => {
 const navbar = document.getElementById('navbar');
 const floatingBtn = document.getElementById('floatingCheckout');

 if (window.scrollY > 100) {
 navbar.classList.add('scrolled');
 } else {
 navbar.classList.remove('scrolled');
 }

 // Show/hide floating checkout button
 if (window.scrollY > 500) {
 floatingBtn.classList.add('show');
 } else {
 floatingBtn.classList.remove('show');
 }
 });

 // Quantity Controls
 function increaseQuantity(itemId) {
 const quantityDisplay = document.getElementById(`quantity-${itemId}`);
 const currentQuantity = parseInt(quantityDisplay.textContent);
 const newQuantity = currentQuantity + 1;

 quantityDisplay.textContent = newQuantity;
 updateItemQuantity(itemId, newQuantity);
 showToast('تعداد محصول افزایش یافت', 'plus');
 }

 function decreaseQuantity(itemId) {
 const quantityDisplay = document.getElementById(`quantity-${itemId}`);
 const currentQuantity = parseInt(quantityDisplay.textContent);

 if (currentQuantity > 1) {
 const newQuantity = currentQuantity - 1;
 quantityDisplay.textContent = newQuantity;
 updateItemQuantity(itemId, newQuantity);
 showToast('تعداد محصول کاهش یافت', 'minus');
 }
 }

 function updateItemQuantity(itemId, newQuantity) {
 const item = cartItems.find(item => item.id === itemId);
 if (item) {
 item.quantity = newQuantity;
 updateCartSummary();
 updateCartBadge();
 }
 }

 // Remove Item
 function removeItem(itemId) {
 if (confirm('آیا از حذف این محصول اطمینان دارید؟')) {
 const itemElement = document.querySelector(`[data-item-id="${itemId}"]`);
 itemElement.style.animation = 'slideOut 0.3s ease forwards';

 setTimeout(() => {
 itemElement.remove();
 cartItems = cartItems.filter(item => item.id !== itemId);
 updateCartSummary();
 updateCartBadge();
 updateItemsCount();
 showToast('محصول حذف شد', 'trash');

 // Check if cart is empty
 if (cartItems.length === 0) {
 showEmptyCart();
 }
 }, 300);
 }
 }

 // Edit Item
 function editItem(itemId) {
 showToast('ویرایش محصول', 'edit');
 // Here you would open a modal to edit item properties
 }

 // Save for Later
 function saveForLater(itemId) {
 const item = cartItems.find(item => item.id === itemId);
 if (item) {
 showToast(`${item.name} برای بعد ذخیره شد`, 'heart');
 removeItem(itemId);
 }
 }

 // Show Empty Cart
 function showEmptyCart() {
 document.getElementById('cartItemsContainer').style.display = 'none';
 document.getElementById('emptyCart').style.display = 'block';
 document.querySelector('.cart-summary').style.display = 'none';
 }

 // Apply Discount
 function applyDiscount(event) {
 event.preventDefault();
 const code = document.getElementById('discountCode').value.trim().toUpperCase();
 const successElement = document.getElementById('discountSuccess');

 // Sample discount codes
 const validCodes = {
 'ZIMA20': 0.20,
 'WELCOME10': 0.10,
 'FIRST15': 0.15
 };

 if (validCodes[code]) {
 discountCode = code;
 discountAmount = validCodes[code];
 successElement.style.display = 'flex';
 successElement.querySelector('span').textContent = `کد تخفیف ${code} اعمال شد`;
 updateCartSummary();
 showToast(`${Math.round(discountAmount * 100)}% تخفیف اعمال شد!`, 'percentage');
 } else {
 showToast('کد تخفیف نامعتبر است', 'times');
 successElement.style.display = 'none';
 }
 }

 // Update Cart Summary
 function updateCartSummary() {
 let subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
 let discount = Math.round(subtotal * discountAmount);
 let tax = Math.round(subtotal * 0.09); // 9% tax
 let shipping = subtotal > 500000 ? 0 : 50000; // Free shipping over 500k
 let total = subtotal - discount + tax + shipping;

 document.getElementById('subtotal').textContent = formatPrice(subtotal);
 document.getElementById('discount').textContent = discount > 0 ? `-${formatPrice(discount)}` : '۰ تومان';
 document.getElementById('tax').textContent = formatPrice(tax);
 document.getElementById('shipping').textContent = shipping === 0 ? 'رایگان' : formatPrice(shipping);
 document.getElementById('total').textContent = formatPrice(total);
 }

 // Update Cart Badge
 function updateCartBadge() {
 const totalQuantity = cartItems.reduce((sum, item) => sum + item.quantity, 0);
 document.getElementById('cartBadge').textContent = totalQuantity;
 }

 // Update Items Count
 function updateItemsCount() {
 const totalItems = cartItems.length;
 document.getElementById('itemsCount').textContent = `${totalItems} محصول`;
 }

 // Format Price
 function formatPrice(price) {
 return price.toLocaleString('fa-IR') + ' تومان';
 }

 // Proceed to Checkout
 function proceedToCheckout() {
 if (cartItems.length === 0) {
 showToast('سبد خرید شما خالی است', 'exclamation-triangle');
 return;
 }

 // Add loading state
 const checkoutBtn = document.querySelector('.checkout-btn');
 const originalText = checkoutBtn.innerHTML;
 checkoutBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> در حال پردازش...';
 checkoutBtn.disabled = true;

 setTimeout(() => {
 // Simulate checkout process
 showToast('انتقال به صفحه پرداخت...', 'credit-card');
 // Here you would redirect to checkout page
 // window.location.href = '/checkout';

 // Reset button
 checkoutBtn.innerHTML = originalText;
 checkoutBtn.disabled = false;
 }, 2000);
 }

 // Add Recommended Product
 function addRecommended(productId) {
 const recommendedProducts = {
 1: { name: 'ست زیر شب عروسی', price: 580000 },
 2: { name: 'روب حمام مخمل', price: 450000 },
 3: { name: 'لباس خواب حریر', price: 320000 },
 4: { name: 'ست اسپرت ورزشی', price: 280000 }
 };

 const product = recommendedProducts[productId];
 if (product) {
 showToast(`${product.name} به سبد خرید اضافه شد`, 'check');

 // Add to cart items
 const newId = Math.max(...cartItems.map(item => item.id), 0) + 1;
 cartItems.push({
 id: newId,
 name: product.name,
 price: product.price,
 quantity: 1,
 size: 'M',
 color: 'مشخص نشده'
 });

 updateCartSummary();
 updateCartBadge();
 updateItemsCount();
 }
 }

 // Toast Notification
 function showToast(message, icon = 'check') {
 const toast = document.getElementById('toast');
 const toastIcon = toast.querySelector('.toast-icon i');
 const toastMessage = toast.querySelector('.toast-message');

 toastIcon.className = `fas fa-${icon}`;
 toastMessage.textContent = message;

 toast.classList.add('show');

 setTimeout(() => {
 toast.classList.remove('show');
 }, 3000);
 }

 // Fade In Animation
 const observerOptions = {
 threshold: 0.1,
 rootMargin: '0px 0px -50px 0px'
 };

 const observer = new IntersectionObserver((entries) => {
 entries.forEach(entry => {
 if (entry.isIntersecting) {
 entry.target.classList.add('visible');
 }
 });
 }, observerOptions);

 document.querySelectorAll('.fade-in, .slide-in-right').forEach(el => {
 observer.observe(el);
 });

 // Initialize Cart
 function initializeCart() {
 updateCartSummary();
 updateCartBadge();
 updateItemsCount();
 }

 // Add slide out animation CSS
 const style = document.createElement('style');
 style.textContent = `
 @keyframes slideOut {
 0% {
 opacity: 1;
 transform: translateX(0);
 }
 100% {
 opacity: 0;
 transform: translateX(-100%);
 }
 }
 `;
 document.head.appendChild(style);

 // Initialize on page load
 initializeCart();

 // Keyboard shortcuts
 document.addEventListener('keydown', function(e) {
 // Ctrl + Enter to checkout
 if (e.ctrlKey && e.key === 'Enter') {
 proceedToCheckout();
 }

 // Escape to close any modals
 if (e.key === 'Escape') {
 // Close any open modals
 }
 });

 // Auto-save cart to localStorage
 function saveCartToStorage() {
 localStorage.setItem('zimaCart', JSON.stringify(cartItems));
 }

 function loadCartFromStorage() {
 const savedCart = localStorage.getItem('zimaCart');
 if (savedCart) {
 cartItems = JSON.parse(savedCart);
 }
 }

 // Save cart whenever it changes
 const originalPush = cartItems.push;
 cartItems.push = function(...items) {
 const result = originalPush.apply(this, items);
 saveCartToStorage();
 return result;
 };

 // Load cart on page load
 loadCartFromStorage();

 // Console branding
 console.log(`
 ████████╗██╗███╗ ███╗ █████╗
 ╚══██╔══╝██║████╗ ████║██╔══██╗
 ██║ ██║██╔████╔██║███████║
 ██║ ██║██║╚██╔╝██║██╔══██║
 ██║ ██║██║ ╚═╝ ██║██║ ██║
 ╚═╝ ╚═╝╚═╝ ╚═╝╚═╝ ╚═╝

 سبد خرید زیما - تکمیل خرید با اطمینان
 `);
 </script>
</body>
</html>